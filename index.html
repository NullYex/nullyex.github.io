<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>NullYex | Project Hub</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
        <style>
            :root {
                --bg-color: #050505;
                --glass-bg: rgba(20, 20, 20, 0.4);
                --glass-border: rgba(255, 255, 255, 0.08);
                --text-color: #f0f0f0;
                --text-muted: #a0a0a0;
                --accent-green: #2ecc71;
                --accent-blue: #00e1ff;
                --dim-color: rgba(46, 204, 113, 0.05);
                --font-main: 'JetBrains Mono', monospace;
                --radius-pebble: 24px;
                --system-accent-color: var(--accent-green);
                --cursor-ball-color: var(--accent-blue);
            }

            [data-theme="light"] {
                --bg-color: #f4f4f5;
                --glass-bg: rgba(255, 255, 255, 0.6);
                --glass-border: rgba(0, 0, 0, 0.08);
                --text-color: #18181b;
                --text-muted: #666666;
                --accent-blue: #0088cc;
                --dim-color: rgba(0, 136, 204, 0.05);
            }

            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }

            body {
                background-color: var(--bg-color);
                color: var(--text-color);
                font-family: var(--font-main);
                display: flex;
                justify-content: center;
                align-items: center;
                min-height: 100vh;
                padding: 20px;
                overflow-x: hidden;
                transition: background-color 0.5s ease, color 0.5s ease;
                position: relative;
            }

            body::before, body::after {
                content: '';
                position: fixed;
                width: 40vw;
                height: 40vw;
                border-radius: 50%;
                filter: blur(100px);
                z-index: -1;
                opacity: 0.15;
                pointer-events: none;
            }

            body::before {
                background: var(--accent-green);
                top: -10%;
                left: -10%;
            }

            body::after {
                background: var(--accent-blue);
                bottom: -10%;
                right: -10%;
            }

            @media (pointer: fine) {
                * {
                    cursor: none !important;
                }
            }

            .target-cursor-wrapper {
                position: fixed;
                top: 0;
                left: 0;
                width: 0;
                height: 0;
                pointer-events: none;
                z-index: 9999;
                mix-blend-mode: difference;
                transform: translate(-50%, -50%);
            }

            .target-cursor-dot {
                position: absolute;
                left: 50%;
                top: 50%;
                width: 4px;
                height: 4px;
                background: #fff;
                border-radius: 50%;
                transform: translate(-50%, -50%);
                will-change: transform;
            }

            .target-cursor-corner {
                position: absolute;
                left: 0;
                top: 0;
                width: 12px;
                height: 12px;
                border: 3px solid #fff;
                will-change: transform, width, height;
            }

            .corner-tl {
                border-right: none;
                border-bottom: none;
            }

            .corner-tr {
                border-left: none;
                border-bottom: none;
            }

            .corner-br {
                border-left: none;
                border-top: none;
            }

            .corner-bl {
                border-right: none;
                border-top: none;
            }

            .container {
                width: 100%;
                max-width: 950px;
                padding: 20px;
                z-index: 10;
            }

            header {
                display: flex;
                justify-content: space-between;
                align-items: flex-end;
                margin-bottom: 40px;
                padding-bottom: 20px;
            }

            .brand {
                font-size: 3rem;
                font-weight: 700;
                letter-spacing: -2px;
                background: linear-gradient(45deg, var(--text-color), var(--text-muted));
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }

            .header-right {
                text-align: right;
                display: flex;
                flex-direction: column;
                align-items: flex-end;
                gap: 12px;
            }

            .meta-info {
                font-size: 0.75rem;
                color: var(--text-muted);
                line-height: 1.5;
            }

            .theme-btn {
                background: var(--glass-bg);
                border: 1px solid var(--glass-border);
                color: var(--text-color);
                font-family: var(--font-main);
                font-size: 0.7rem;
                padding: 6px 12px;
                cursor: pointer;
                border-radius: 20px;
                transition: all 0.3s ease;
                font-weight: bold;
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
            }

            .theme-btn:hover {
                border-color: var(--system-accent-color);
                color: var(--system-accent-color);
                box-shadow: 0 4px 15px rgba(0,0,0,0.1);
                transform: translateY(-2px);
            }

            .system-status {
                margin-bottom: 40px;
            }

            .label-row {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 12px;
                font-size: 0.75rem;
                color: var(--text-muted);
            }

            .status-bar {
                background: var(--glass-bg);
                backdrop-filter: blur(16px);
                -webkit-backdrop-filter: blur(16px);
                border: 1px solid var(--glass-border);
                border-radius: 50px;
                padding: 16px 24px;
                font-size: 0.9rem;
                box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            }

            .blink {
                animation: blinker 1s step-end infinite;
                color: var(--system-accent-color);
            }

            @keyframes blinker {
                50% {
                    opacity: 0;
                }
            }

            .menu-grid {
                display: grid;
                grid-template-columns: 1fr;
                gap: 24px;
            }

            @media (min-width: 768px) {
                .menu-grid {
                    grid-template-columns: 1fr 1fr;
                }
            }

            .card {
                background: var(--glass-bg);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                border: 1px solid var(--glass-border);
                border-radius: var(--radius-pebble);
                padding: 30px;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                position: relative;
                min-height: 200px;
                box-shadow: 0 8px 32px rgba(0,0,0,0.05);
            }

            .card:hover {
                border-color: rgba(255, 255, 255, 0.2);
                transform: translateY(-8px);
                box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            }

            [data-theme="light"] .card:hover {
                border-color: rgba(0, 0, 0, 0.15);
            }

            .card-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 1;
                border-radius: var(--radius-pebble);
            }

            .project-info {
                margin-bottom: 20px;
                pointer-events: none;
            }

            .project-id {
                font-size: 0.7rem;
                color: var(--text-muted);
                display: block;
                margin-bottom: 12px;
                letter-spacing: 1px;
            }

            .project-name {
                font-size: 1.6rem;
                font-weight: 700;
                margin-bottom: 8px;
                letter-spacing: -0.5px;
            }

            .project-desc {
                font-size: 0.9rem;
                color: var(--text-muted);
                line-height: 1.5;
            }

            .action-row {
                display: flex;
                gap: 12px;
                margin-top: auto;
                align-items: center;
            }

            .status-pill {
                font-size: 0.7rem;
                padding: 6px 14px;
                border-radius: 20px;
                font-weight: bold;
                letter-spacing: 0.5px;
                display: inline-flex;
                align-items: center;
                border: 1px solid;
                transition: all 0.3s ease;
            }

            .status-pill.green {
                color: var(--accent-green);
                background: rgba(46, 204, 113, 0.1);
                border-color: rgba(46, 204, 113, 0.3);
            }

            .card:hover .status-pill.green {
                background: var(--accent-green);
                color: #000;
                border-color: var(--accent-green);
                box-shadow: 0 0 20px rgba(46, 204, 113, 0.3);
            }

            .status-pill.blue {
                color: var(--accent-blue);
                background: rgba(0, 225, 255, 0.1);
                border-color: rgba(0, 225, 255, 0.3);
            }

            .card:hover .status-pill.blue {
                background: var(--accent-blue);
                color: #fff;
                border-color: var(--accent-blue);
                box-shadow: 0 0 20px rgba(0, 225, 255, 0.3);
            }

            .btn-code {
                position: relative;
                z-index: 2;
                text-decoration: none;
                font-size: 0.75rem;
                padding: 8px 16px;
                border-radius: 12px;
                border: 1px solid rgba(0, 225, 255, 0.3);
                color: var(--accent-blue);
                background: rgba(0, 225, 255, 0.05);
                font-weight: bold;
                transition: all 0.3s;
                margin-left: auto;
            }

            .btn-code:hover {
                background: var(--accent-blue);
                color: #fff !important;
                border-color: var(--accent-blue) !important;
                box-shadow: 0 0 20px rgba(0, 225, 255, 0.3);
                transform: scale(1.05);
            }

            .team-card {
                grid-column: 1 / -1;
                flex-direction: row;
                align-items: center;
                gap: 0;
                padding: 40px;
                margin-bottom: 20px;
            }

            .github-corner {
                position: absolute;
                top: 25px;
                right: 25px;
                font-size: 0.75rem;
                color: var(--text-color);
                text-decoration: none;
                padding: 6px 14px;
                background: var(--glass-bg);
                border: 1px solid var(--glass-border);
                border-radius: 20px;
                z-index: 10;
                transition: all 0.3s ease;
                backdrop-filter: blur(10px);
                font-weight: bold;
            }

            .github-corner:hover {
                color: var(--bg-color);
                background: var(--text-color);
                transform: translateY(-2px);
                border-color: var(--text-color);
            }

            .team-info-side {
                flex: 1;
                display: flex;
                flex-direction: column;
                align-items: flex-start;
            }

            .btn-copy-email {
                position: relative;
                z-index: 2;
                margin-top: 25px;
                display: inline-flex;
                align-items: center;
                gap: 12px;
                background: var(--glass-bg);
                border: 1px solid var(--glass-border);
                color: var(--text-color);
                padding: 10px 24px;
                border-radius: 50px;
                font-family: var(--font-main);
                font-size: 0.85rem;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .btn-copy-email:hover {
                border-color: var(--accent-green);
                color: var(--accent-green);
                box-shadow: 0 4px 15px rgba(0,0,0,0.1);
                transform: translateY(-2px);
            }

            .btn-copy-email svg {
                transition: transform 0.3s ease;
            }

            .btn-copy-email:hover svg {
                transform: scale(1.1);
            }

            .team-divider {
                width: 1px;
                align-self: stretch;
                background: linear-gradient(to bottom, transparent, var(--glass-border), transparent);
                margin: 0 40px;
            }

            .team-wheel-side {
                flex: 1;
                display: flex;
                justify-content: flex-end;
                width: 100%;
            }

            .team-wheel-wrapper {
                height: 140px;
                width: 100%;
                max-width: 320px;
                position: relative;
                overflow: hidden;
                -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 20%, black 80%, transparent 100%);
                mask-image: linear-gradient(to bottom, transparent 0%, black 20%, black 80%, transparent 100%);
            }

            .team-wheel {
                display: flex;
                flex-direction: column;
                will-change: transform;
            }

            .wheel-item {
                height: 70px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                padding-left: 24px;
                border-left: 2px solid var(--glass-border);
                transition: all 0.4s ease;
                opacity: 0.3;
                cursor: pointer;
                position: relative;
                z-index: 2;
            }

            .wheel-item.active {
                opacity: 1;
                border-left-color: var(--accent-blue);
            }

            .wheel-name {
                font-size: 1.4rem;
                font-weight: 700;
                color: var(--text-color);
                margin-bottom: 4px;
                letter-spacing: -0.5px;
            }

            .wheel-email {
                font-size: 0.95rem;
                color: var(--text-muted);
                transition: color 0.3s;
            }

            .wheel-item.active .wheel-email {
                color: var(--accent-blue);
            }

            .wheel-item:hover .wheel-email {
                text-decoration: underline;
            }

            @media (max-width: 768px) {
                header {
                    flex-direction: column;
                    align-items: flex-start;
                    gap: 16px;
                    margin-bottom: 30px;
                }

                .brand {
                    font-size: 2.5rem;
                    white-space: nowrap;
                }

                .header-right {
                    align-items: flex-start;
                    text-align: left;
                    flex-direction: column-reverse;
                    gap: 16px;
                }

                .team-card {
                    flex-direction: column;
                    align-items: flex-start;
                    padding: 30px;
                }

                .github-corner {
                    top: auto;
                    bottom: 10px;
                    right: 10px;
                }

                .team-divider {
                    width: 100%;
                    height: 1px;
                    background: linear-gradient(to right, transparent, var(--glass-border), transparent);
                    margin: 30px 0;
                }

                .team-wheel-side {
                    justify-content: flex-start;
                }

                .team-wheel-wrapper {
                    max-width: 100%;
                }
            }
        </style>
    </head>
    <body>
        <div class="target-cursor-wrapper">
            <div class="target-cursor-dot"></div>
            <div class="target-cursor-corner corner-tl"></div>
            <div class="target-cursor-corner corner-tr"></div>
            <div class="target-cursor-corner corner-br"></div>
            <div class="target-cursor-corner corner-bl"></div>
        </div>
        <div class="container">
            <header>
                <div class="brand">NullYex.</div>
                <div class="header-right">
                    <button id="theme-toggle" class="theme-btn" onclick="toggleTheme()">[UI MODE: DRK]</button>
                    <div class="meta-info">
                        SYS.NULLYEX: ONLINE<br>
                        <span id="date-display">...</span>
                    </div>
                </div>
            </header>
            <div class="system-status">
                <div class="label-row">
                    <span>~/NullYex/directory</span>
                    <img src="https://komarev.com/ghpvc/?username=NullYex&style=flat&label=Visits&color=2ecc71" alt="Profile views counter">
                </div>
                <div class="status-bar" id="status-text">
                    > Initializing secure connection... <span class="blink">█</span>
                </div>
            </div>
            <div class="menu-grid">
                <div class="card">
                    <a href="/NX-Crypt" class="card-overlay" target="_blank"></a>
                    <div class="project-info">
                        <span class="project-id">REPO/001</span>
                        <div class="project-name">NX-Crypt</div>
                        <div class="project-desc">Smart Secure File & Text Encryption Utility Tool.</div>
                    </div>
                    <div class="action-row">
                        <div class="status-pill green">● LIVE</div>
                        <a href="https://github.com/NullYex/NX-Crypt" target="_blank" class="btn-code">:: CLI VER.</a>
                    </div>
                </div>
                <div class="card">
                    <a href="/AttendEX" class="card-overlay" target="_blank"></a>
                    <div class="project-info">
                        <span class="project-id">REPO/002</span>
                        <div class="project-name">AttendEX</div>
                        <div class="project-desc">Smart & Modern Attendance marking System with quick export and sharing.</div>
                    </div>
                    <div class="action-row">
                        <div class="status-pill green">● LIVE</div>
                    </div>
                </div>
                <div class="card">
                    <a href="https://github.com/NullYex/gcc-installer" target="_blank" class="card-overlay"></a>
                    <div class="project-info">
                        <span class="project-id">SRC/003</span>
                        <div class="project-name">gcc-installer</div>
                        <div class="project-desc">Automated C/C++ Compiler Setup one-line script for Windows.</div>
                    </div>
                    <div class="action-row">
                        <div class="status-pill blue">./SCRIPT</div>
                    </div>
                </div>
                <div class="card">
                    <a href="/EcoQuest" class="card-overlay" target="_blank"></a>
                    <div class="project-info">
                        <span class="project-id">REPO/004</span>
                        <div class="project-name">EcoQuest</div>
                        <div class="project-desc">An interactive sustainability platform promoting eco-friendly habits.</div>
                    </div>
                    <div class="action-row">
                        <div class="status-pill green">● LIVE</div>
                    </div>
                </div>
                <div class="card">
                    <a href="https://github.com/NullYex" target="_blank" class="card-overlay"></a>
                    <div class="project-info">
                        <span class="project-id">EXT/HUB</span>
                        <div class="project-name">GitHub Profile</div>
                        <div class="project-desc">Explore our open-source codebase and core organization repositories.</div>
                    </div>
                    <div class="action-row">
                        <div class="status-pill blue">↗ GITHUB PAGE</div>
                    </div>
                </div>
                <div class="system-status" style="grid-column: 1 / -1; margin-top: 16px; margin-bottom: -8px;">
                    <div class="status-bar">
                        > Establishing direct connection to developers... <span class="blink">█</span>
                    </div>
                </div>
                <div class="card team-card">
                    <a href="https://github.com/NullYex" class="github-corner" target="_blank">GitHub ↗</a>
                    <div class="team-info-side">
                        <span class="project-id">ORG/CORE</span>
                        <div class="project-name">NullYex Team</div>
                        <div class="project-desc" style="pointer-events: none;">Reach out to us for collaborations, project inquiries, or any other questions.</div>
                        <button class="btn-copy-email" onclick="copyTeamEmail()" id="copy-email-btn">
                            team@nullyex.com
                        
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="team-divider"></div>
                    <div class="team-wheel-side">
                        <div class="team-wheel-wrapper">
                            <div class="team-wheel" id="team-wheel">
                                <div class="wheel-item" onclick="copyWheelEmail('amrit@nullyex.com', this)">
                                    <div class="wheel-name">Amrit Ranjan</div>
                                    <span class="wheel-email">amrit@nullyex.com</span>
                                </div>
                                <div class="wheel-item" onclick="copyWheelEmail('farhan@nullyex.com', this)">
                                    <div class="wheel-name">Farhan Khalid</div>
                                    <span class="wheel-email">farhan@nullyex.com</span>
                                </div>
                                <div class="wheel-item" onclick="copyWheelEmail('kamran@nullyex.com', this)">
                                    <div class="wheel-name">Kamran Alvi</div>
                                    <span class="wheel-email">kamran@nullyex.com</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            const toggleBtn = document.getElementById('theme-toggle');

            function toggleTheme() {
                const html = document.documentElement;
                if (html.getAttribute('data-theme') === 'light') {
                    html.removeAttribute('data-theme');
                    toggleBtn.textContent = '[UI MODE: DRK]';
                } else {
                    html.setAttribute('data-theme', 'light');
                    toggleBtn.textContent = '[UI MODE: LGT]';
                }
            }

            const dateEl = document.getElementById('date-display');
            const now = new Date();
            const options = {
                weekday: 'short',
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            dateEl.textContent = now.toLocaleDateString('en-US', options).toUpperCase();

            window.copyTeamEmail = function() {
                navigator.clipboard.writeText("team@nullyex.com").then( () => {
                    const btn = document.getElementById('copy-email-btn');
                    const originalContent = btn.innerHTML;

                    btn.innerHTML = `Copied! <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>`;
                    btn.style.borderColor = "var(--system-accent-color)";
                    btn.style.color = "var(--system-accent-color)";

                    setTimeout( () => {
                        btn.innerHTML = originalContent;
                        btn.style.borderColor = "";
                        btn.style.color = "";
                    }
                    , 2000);
                }
                );
            }
            ;

            window.copyWheelEmail = function(email, element) {
                navigator.clipboard.writeText(email).then( () => {
                    const emailSpan = element.querySelector('.wheel-email');
                    const originalText = emailSpan.innerText;

                    emailSpan.innerText = "Copied to clipboard!";
                    emailSpan.style.color = "var(--system-accent-color)";

                    setTimeout( () => {
                        emailSpan.innerText = originalText;
                        emailSpan.style.color = "";
                    }
                    , 2000);
                }
                );
            }
            ;

            function initTeamWheel() {
                const wheel = document.getElementById('team-wheel');
                if (!wheel)
                    return;

                const originalItems = wheel.querySelectorAll('.wheel-item');
                const itemHeight = 70;
                const totalOriginal = originalItems.length;

                originalItems.forEach(item => {
                    wheel.appendChild(item.cloneNode(true));
                }
                );

                const allItems = wheel.querySelectorAll('.wheel-item');
                let currentIndex = 0;

                allItems.forEach(i => i.classList.remove('active'));
                allItems[0].classList.add('active');
                setInterval( () => {
                    currentIndex++;

                    allItems.forEach(i => i.classList.remove('active'));
                    if (allItems[currentIndex]) {
                        allItems[currentIndex].classList.add('active');
                    }

                    gsap.to(wheel, {
                        y: -(currentIndex * itemHeight),
                        duration: 0.8,
                        ease: "power3.inOut",
                        onComplete: () => {
                            if (currentIndex === totalOriginal) {
                                gsap.set(wheel, {
                                    y: 0
                                });
                                currentIndex = 0;
                                allItems.forEach(i => i.classList.remove('active'));
                                allItems[0].classList.add('active');
                            }
                        }
                    });
                }
                , 4000);
            }

            document.addEventListener('DOMContentLoaded', () => {
                initTeamWheel();

                const cursorWrapper = document.querySelector('.target-cursor-wrapper');
                const dotRef = document.querySelector('.target-cursor-dot');
                const cornersRef = document.querySelectorAll('.target-cursor-corner');

                const isMobile = ('ontouchstart'in window) || (navigator.maxTouchPoints > 0) || (window.innerWidth <= 768);

                if (!isMobile && cursorWrapper) {
                    let spinDuration = 2;
                    let hoverDuration = 0.2;
                    let parallaxOn = true;
                    let activeTarget = null;
                    let activeStrength = 0;
                    let targetCornerPositions = null;
                    let activeCornerData = null;
                    let spinTl;
                    const constants = {
                        cornerSize: 12
                    };
                    const targetSelector = 'a, .card, button, .wheel-item';

                    const posSize = constants.cornerSize;
                    gsap.set('.corner-tl', {
                        x: -posSize * 1.5,
                        y: -posSize * 1.5
                    });
                    gsap.set('.corner-tr', {
                        x: posSize * 0.5,
                        y: -posSize * 1.5
                    });
                    gsap.set('.corner-br', {
                        x: posSize * 0.5,
                        y: posSize * 0.5
                    });
                    gsap.set('.corner-bl', {
                        x: -posSize * 1.5,
                        y: posSize * 0.5
                    });

                    gsap.set(cursorWrapper, {
                        xPercent: -50,
                        yPercent: -50,
                        x: window.innerWidth / 2,
                        y: window.innerHeight / 2
                    });

                    function createSpinTimeline() {
                        if (spinTl)
                            spinTl.kill();
                        spinTl = gsap.timeline({
                            repeat: -1
                        }).to(cursorWrapper, {
                            rotation: '+=360',
                            duration: spinDuration,
                            ease: 'none'
                        });
                    }
                    createSpinTimeline();

                    window.addEventListener('mousemove', (e) => {
                        gsap.to(cursorWrapper, {
                            x: e.clientX,
                            y: e.clientY,
                            duration: 0.1,
                            ease: 'power3.out'
                        });
                    }
                    );

                    const tickerFn = () => {
                        if (activeTarget && activeCornerData && activeStrength > 0) {
                            const rect = activeTarget.getBoundingClientRect();
                            const {padding, sizes} = activeCornerData;

                            const bLeft = rect.left - padding;
                            const bTop = rect.top - padding;
                            const bRight = rect.right + padding;
                            const bBottom = rect.bottom + padding;

                            targetCornerPositions = [{
                                x: bLeft,
                                y: bTop
                            }, {
                                x: bRight - sizes[1],
                                y: bTop
                            }, {
                                x: bRight - sizes[2],
                                y: bBottom - sizes[2]
                            }, {
                                x: bLeft,
                                y: bBottom - sizes[3]
                            }];
                        }

                        if (!targetCornerPositions || activeStrength === 0)
                            return;

                        const cursorX = gsap.getProperty(cursorWrapper, 'x');
                        const cursorY = gsap.getProperty(cursorWrapper, 'y');

                        cornersRef.forEach( (corner, i) => {
                            const currentX = gsap.getProperty(corner, 'x');
                            const currentY = gsap.getProperty(corner, 'y');

                            const targetX = targetCornerPositions[i].x - cursorX;
                            const targetY = targetCornerPositions[i].y - cursorY;

                            const finalX = currentX + (targetX - currentX) * activeStrength;
                            const finalY = currentY + (targetY - currentY) * activeStrength;

                            const duration = activeStrength >= 0.99 ? (parallaxOn ? 0.2 : 0) : 0.05;

                            gsap.to(corner, {
                                x: finalX,
                                y: finalY,
                                duration: duration,
                                ease: duration === 0 ? 'none' : 'power1.out',
                                overwrite: 'auto'
                            });
                        }
                        );
                    }
                    ;
                    gsap.ticker.add(tickerFn);

                    let currentLeaveHandler = null;
                    let resumeTimeout = null;

                    window.addEventListener('mouseover', (e) => {
                        const target = e.target.closest(targetSelector);
                        if (!target || activeTarget === target)
                            return;

                        if (activeTarget && currentLeaveHandler) {
                            activeTarget.removeEventListener('mouseleave', currentLeaveHandler);
                        }
                        if (resumeTimeout) {
                            clearTimeout(resumeTimeout);
                            resumeTimeout = null;
                        }

                        activeTarget = target;
                        cornersRef.forEach(corner => gsap.killTweensOf(corner));
                        gsap.killTweensOf(cursorWrapper, 'rotation');
                        if (spinTl)
                            spinTl.pause();
                        gsap.set(cursorWrapper, {
                            rotation: 0
                        });

                        const rect = target.getBoundingClientRect();
                        const {cornerSize} = constants;
                        const cursorX = gsap.getProperty(cursorWrapper, 'x');
                        const cursorY = gsap.getProperty(cursorWrapper, 'y');

                        const padding = Math.max(6, Math.min(12, Math.min(rect.width, rect.height) * 0.1));

                        const boxWidth = rect.width + padding * 2;
                        const boxHeight = rect.height + padding * 2;
                        const maxRad = Math.min(boxWidth, boxHeight) / 2;

                        const compStyle = window.getComputedStyle(target);
                        const getRad = (val) => {
                            let r = parseFloat(val) || 0;
                            const maxElemRad = Math.min(rect.width, rect.height) / 2;
                            if (r > maxElemRad)
                                r = maxElemRad;
                            return r > 0 ? Math.min(r + padding, maxRad) : 0;
                        }
                        ;

                        const rTL = getRad(compStyle.borderTopLeftRadius);
                        const rTR = getRad(compStyle.borderTopRightRadius);
                        const rBR = getRad(compStyle.borderBottomRightRadius);
                        const rBL = getRad(compStyle.borderBottomLeftRadius);

                        const getCornerSize = (r) => Math.min(maxRad, Math.max(cornerSize, r));

                        const sizes = [getCornerSize(rTL), getCornerSize(rTR), getCornerSize(rBR), getCornerSize(rBL)];

                        const radii = [rTL, rTR, rBR, rBL];

                        activeCornerData = {
                            padding,
                            sizes,
                            radii
                        };

                        const bLeft = rect.left - padding;
                        const bTop = rect.top - padding;
                        const bRight = rect.right + padding;
                        const bBottom = rect.bottom + padding;

                        targetCornerPositions = [{
                            x: bLeft,
                            y: bTop
                        }, {
                            x: bRight - sizes[1],
                            y: bTop
                        }, {
                            x: bRight - sizes[2],
                            y: bBottom - sizes[2]
                        }, {
                            x: bLeft,
                            y: bBottom - sizes[3]
                        }];

                        const strengthObj = {
                            current: 0
                        };
                        gsap.to(strengthObj, {
                            current: 1,
                            duration: hoverDuration,
                            ease: 'power2.out',
                            onUpdate: () => {
                                activeStrength = strengthObj.current;
                            }
                        });

                        cornersRef.forEach( (corner, i) => {
                            let radiusProp = {};
                            if (i === 0)
                                radiusProp = {
                                    borderTopLeftRadius: radii[0]
                                };
                            if (i === 1)
                                radiusProp = {
                                    borderTopRightRadius: radii[1]
                                };
                            if (i === 2)
                                radiusProp = {
                                    borderBottomRightRadius: radii[2]
                                };
                            if (i === 3)
                                radiusProp = {
                                    borderBottomLeftRadius: radii[3]
                                };

                            gsap.to(corner, {
                                x: targetCornerPositions[i].x - cursorX,
                                y: targetCornerPositions[i].y - cursorY,
                                width: sizes[i],
                                height: sizes[i],
                                ...radiusProp,
                                duration: 0.2,
                                ease: 'power2.out'
                            });
                        }
                        );

                        currentLeaveHandler = () => {
                            activeTarget = null;
                            targetCornerPositions = null;
                            activeCornerData = null;
                            activeStrength = 0;

                            const posSize = constants.cornerSize;
                            const positions = [{
                                x: -posSize * 1.5,
                                y: -posSize * 1.5
                            }, {
                                x: posSize * 0.5,
                                y: -posSize * 1.5
                            }, {
                                x: posSize * 0.5,
                                y: posSize * 0.5
                            }, {
                                x: -posSize * 1.5,
                                y: posSize * 0.5
                            }];

                            cornersRef.forEach( (corner, index) => {
                                gsap.killTweensOf(corner);
                                gsap.to(corner, {
                                    x: positions[index].x,
                                    y: positions[index].y,
                                    width: posSize,
                                    height: posSize,
                                    borderTopLeftRadius: 0,
                                    borderTopRightRadius: 0,
                                    borderBottomRightRadius: 0,
                                    borderBottomLeftRadius: 0,
                                    duration: 0.3,
                                    ease: 'power3.out'
                                });
                            }
                            );

                            resumeTimeout = setTimeout( () => {
                                if (!activeTarget) {
                                    const currentRotation = gsap.getProperty(cursorWrapper, 'rotation') || 0;
                                    const normalizedRotation = currentRotation % 360;
                                    if (spinTl)
                                        spinTl.kill();
                                    spinTl = gsap.timeline({
                                        repeat: -1
                                    }).to(cursorWrapper, {
                                        rotation: '+=360',
                                        duration: spinDuration,
                                        ease: 'none'
                                    });
                                    gsap.to(cursorWrapper, {
                                        rotation: normalizedRotation + 360,
                                        duration: spinDuration * (1 - normalizedRotation / 360),
                                        ease: 'none',
                                        onComplete: () => {
                                            if (spinTl)
                                                spinTl.restart();
                                        }
                                    });
                                }
                                resumeTimeout = null;
                            }
                            , 50);
                            target.removeEventListener('mouseleave', currentLeaveHandler);
                        }
                        ;
                        target.addEventListener('mouseleave', currentLeaveHandler);
                    }
                    );

                    window.addEventListener('mousedown', () => {
                        gsap.to(dotRef, {
                            scale: 0.7,
                            duration: 0.3
                        });
                        gsap.to(cursorWrapper, {
                            scale: 0.9,
                            duration: 0.2
                        });
                    }
                    );

                    window.addEventListener('mouseup', () => {
                        gsap.to(dotRef, {
                            scale: 1,
                            duration: 0.3
                        });
                        gsap.to(cursorWrapper, {
                            scale: 1,
                            duration: 0.2
                        });
                    }
                    );

                    window.addEventListener('scroll', () => {
                        if (!activeTarget)
                            return;
                        const mouseX = gsap.getProperty(cursorWrapper, 'x');
                        const mouseY = gsap.getProperty(cursorWrapper, 'y');
                        const elementUnderMouse = document.elementFromPoint(mouseX, mouseY);
                        const isStillOverTarget = elementUnderMouse && (elementUnderMouse === activeTarget || elementUnderMouse.closest(targetSelector) === activeTarget);
                        if (!isStillOverTarget && currentLeaveHandler) {
                            currentLeaveHandler();
                        }
                    }
                    , {
                        passive: true
                    });
                } else if (isMobile && cursorWrapper) {
                    cursorWrapper.style.display = 'none';
                }
            }
            );
        </script>
    </body>
</html>
